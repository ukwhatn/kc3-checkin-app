<% content_for(:title, @event.name) %>

<div class="container-fluid">
  <div class="row">
    <div class="col-md-6 mt-3 mx-auto text-center">
      <%= link_to "前のページに戻る", admin_events_path %>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6 mt-3 mx-auto">
      <div class="d-flex flex-wrap gap-2">
        <% @timetables.each do |timetable| %>
          <div class="flex-grow-0 flex-shrink-0 w-100 bg-white rounded-2 p-3">
            <div class="fw-bold fs-5">
              <%= link_to timetable.name, admin_event_timetable_path(@event, timetable) %>
            </div>
            <div class="d-flex justify-content-between align-items-center">
              <div class="text-secondary">
                <%= timetable.start_at.strftime("%Y/%m/%d %H:%M") %> 〜 <%= timetable.end_at.strftime("%Y/%m/%d %H:%M") %>
              </div>
              <div class="text-end">
                <%= link_to "編集", edit_admin_event_timetable_path(@event, timetable), class: "btn btn-outline-secondary" %>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-4 mt-5 mb-3 mx-auto text-center">
      <div class="pb-2 border-bottom border-1">
        新規タイムテーブル
      </div>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-md-6">
      <%= render partial: "admin/timetables/components/form", locals: { model: @new_timetable, path: admin_event_timetables_path(@event) } %>
    </div>
  </div>
</div>